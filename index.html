<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width,initial-scale=1" />

        <Title>Winston Cube: PyScript Test</Title>

        <link rel="icon" href="./favicon.ico" />
        <link rel="stylesheet" href="./css/spectre.min.css">
        <link rel="stylesheet" href="./css/main.css">

        <link rel="stylesheet" href="./pyscript/pyscript.css" />
        <script defer src="./pyscript/pyscript.js"></script>
    </head>
    <body>
        <div class="modal active" id="loading-modal">
            <a href="#close" class="modal-overlay" aria-label="Close"></a>
            <div class="modal-container">
              <div class="modal-header">
                <div class="modal-title h5">Starting App</div>
              </div>
              <div class="modal-body">
                <div class="content">
                    <div class="column col-12 text-center">
                        <div class="loading loading-lg"></div>
                    </div>
                </div>
              </div>
              <div class="modal-footer">
              </div>
            </div>
        </div>

        <div class="modal" id="cube-modal">
            <a href="#close" class="modal-overlay" aria-label="Close"></a>
            <div class="modal-container">
              <div class="modal-header">
                <div class="modal-title h5">Enter Cube List</div>
              </div>
              <div class="modal-body">
                <div class="content">
                    <div class="column col-12">
                        <div class="form-group">
                            <textarea class="form-input" id="text-input" placeholder="Copy-Paste contents of a CSV file here" rows="10"></textarea>
                        </div>
                        <div class="text-right">
                            <button id="start_text_button" pys-onClick="action_start_from_text" class="btn btn-primary">Start from Text</button>
                        </div>
                    </div>
                </div>
                <div class="divider text-center" data-content="OR"></div>
                <div class="content">
                    <div class="column col-12">
                        <div class="form-group">
                            <input class="form-input" type="text" id="url-input" value="data/example.csv">
                        </div>
                        <div class="text-right">
                            <button id="start_url_button" pys-onClick="action_start_from_url" class="btn btn-primary">Start from URL</button>
                        </div>
                    </div>
                </div>
              </div>
            </div>
        </div>

        <div class="container">
        <div>Cards in cube: <strong><span id=card_count></span></strong></div>
        <div>Cards in main pile/used: <strong><span id=main_pile_count></span> / <span id=used_count></span></strong></div>
        <br />

        <div class="columns">
            <div class="column col-4">
                <div class="panel pile-panel" id="pile-panel-one">
                    <div class="panel-header text-center">
                        <div class="panel-title h5">Pile One</div>
                    </div>
                    <div class="panel-body">
                        <ul id="pile_one" pys-onClick="action_click_card"></ul>
                    </div>
                </div>
            </div>
            <div class="column col-4">
                <div class="panel pile-panel" id="pile-panel-two">
                    <div class="panel-header text-center">
                        <div class="panel-title h5">Pile Two</div>
                    </div>
                    <div class="panel-body">
                        <ul id="pile_two" pys-onClick="action_click_card"></ul>
                    </div>
                </div>
            </div>
            <div class="column col-4">
                <div class="panel pile-panel" id="pile-panel-three">
                    <div class="panel-header text-center">
                        <div class="panel-title h5">Pile Three</div>
                    </div>
                    <div class="panel-body">
                        <ul id="pile_three" pys-onClick="action_click_card"></ul>
                    </div>
                </div>
            </div>
        </div>
        <br />

        <div class="columns">
            <div class="column">
                <div id="player_one_cards" class="panel player-panel">
                    <div class="panel-header text-center">
                        <div class="panel-title h5">Player One</div>
                    </div>
                    <div class="panel-body">
                        <ul id="player_one_cards_list"></ul>
                    </div>
                </div>
            </div>
            <div class="column">
                <div id="player_two_cards" class="panel player-panel">
                    <div class="panel-header text-center">
                        <div class="panel-title h5">Player Two</div>
                    </div>
                    <div class="panel-body">
                        <ul id="player_two_cards_list"></ul>
                    </div>
                </div>
            </div>
        </div>
        <br />

        <div class="columns">
            <div class="column col-12">
                <div id="unused_cards" class="panel player-panel hidden">
                    <div class="panel-header text-center">
                        <div class="panel-title h5">Unused cards</div>
                    </div>
                    <div class="panel-body">
                        <ul id="unused_cards_list"></ul>
                    </div>
                </div>
            </div>
        </div>
        <br />

        <button id="restart_button" pys-onClick="action_restart" class="btn">Restart</button>
        <button id="skip_button" pys-onClick="action_skip" class="btn btn-primary">Skip</button>
        <button id="take_button" pys-onClick="action_take" class="btn btn-primary">Take</button>
        
    </div>
    <py-env>
        - paths:
            - ./python/cubedata/cubedata.py
    </py-env>

    <py-script src='./python/main.py'></py-script>

    </body>
</html>